# Cloud Computing: Servicios y aplicaciones.
# P3: Computación Distribuida y Escalable con Hadoop
# Gustavo Rivas Gervilla. gustavofox92@correo.ugr.es

## Ejercicio 1

Para la realización de este ejercicio simplemente empleamos el código disponible en el servidor Hadoop. Así con este ejercicio lo que hicimos fue aprender cómo ejecutar un código, con paradigma Map-Reduce en el servidor de prácticas.

```bash
javac -cp /usr/lib/hadoop/*:/usr/lib/hadoop-mapreduce/* -d java_classes Min*
/usr/java/jdk1.7.0_51/bin/jar -cvf stat.jar -C java_classes / .

hadoop jar stat.jar oldapi.Min /tmp/BDCC/datasets/ECBDL14/ECBDL14_10tst.data ./stat/output/
```
## Ejercicio 2


```bash
cd maximo
mkdir java_classes
javac -cp /usr/lib/hadoop/*:/usr/lib/hadoop-mapreduce/* -d java_classes Max*
/usr/java/jdk1.7.0_51/bin/jar -cvf max.jar -C java_classes / .

hadoop jar max.jar maxGriger.Max /tmp/BDCC/datasets/ECBDL14/ECBDL14_10tst.data ./stat/output/
```
```bash
17/05/19 21:50:48 INFO mapreduce.Job: Counters: 49
        File System Counters
                FILE: Number of bytes read=968565
                FILE: Number of bytes written=4121771
                FILE: Number of read operations=0
                FILE: Number of large read operations=0
                FILE: Number of write operations=0
                HDFS: Number of bytes read=102749934
                HDFS: Number of bytes written=6
                HDFS: Number of read operations=54
                HDFS: Number of large read operations=0
                HDFS: Number of write operations=32
        Job Counters 
                Launched map tasks=2
                Launched reduce tasks=16
                Rack-local map tasks=2
                Total time spent by all maps in occupied slots (ms)=157101
                Total time spent by all reduces in occupied slots (ms)=1834070
                Total time spent by all map tasks (ms)=22443
                Total time spent by all reduce tasks (ms)=37430
                Total vcore-seconds taken by all map tasks=22443
                Total vcore-seconds taken by all reduce tasks=37430
                Total megabyte-seconds taken by all map tasks=157101000
                Total megabyte-seconds taken by all reduce tasks=1871500000
        Map-Reduce Framework
                Map input records=2897917
                Map output records=2897917
                Map output bytes=28979170
                Map output materialized bytes=968808
                Input split bytes=234
                Combine input records=0
                Combine output records=0
                Reduce input groups=1
                Reduce shuffle bytes=968808
                Reduce input records=2897917
                Reduce output records=1
                Spilled Records=5795834
                Shuffled Maps =32
                Failed Shuffles=0
                Merged Map outputs=32
                GC time elapsed (ms)=489
                CPU time spent (ms)=37560
                Physical memory (bytes) snapshot=7909216256
                Virtual memory (bytes) snapshot=984121237504
                Total committed heap usage (bytes)=19739443200
        Shuffle Errors
                BAD_ID=0
                CONNECTION=0
                IO_ERROR=0
                WRONG_LENGTH=0
                WRONG_MAP=0
                WRONG_REDUCE=0
        File Input Format Counters 
                Bytes Read=102749700
        File Output Format Counters 
                Bytes Written=6
```

```bash
1       9.0
```

## Ejercicio 3

He tratado de pasarle al `collect` simplemente un string pero da un error al esperar un objeto del tipo Text.

```bash
17/05/19 22:32:38 INFO mapreduce.Job: Counters: 50
        File System Counters
                FILE: Number of bytes read=2173029
                FILE: Number of bytes written=6530753
                FILE: Number of read operations=0
                FILE: Number of large read operations=0
                FILE: Number of write operations=0
                HDFS: Number of bytes read=102749934
                HDFS: Number of bytes written=18
                HDFS: Number of read operations=54
                HDFS: Number of large read operations=0
                HDFS: Number of write operations=32
        Job Counters 
                Launched map tasks=2
                Launched reduce tasks=16
                Data-local map tasks=1
                Rack-local map tasks=1
                Total time spent by all maps in occupied slots (ms)=108157
                Total time spent by all reduces in occupied slots (ms)=1965292
                Total time spent by all map tasks (ms)=15451
                Total time spent by all reduce tasks (ms)=40108
                Total vcore-seconds taken by all map tasks=15451
                Total vcore-seconds taken by all reduce tasks=40108
                Total megabyte-seconds taken by all map tasks=108157000
                Total megabyte-seconds taken by all reduce tasks=2005400000
        Map-Reduce Framework
                Map input records=2897917
                Map output records=2897917
                Map output bytes=28979170
                Map output materialized bytes=2173056
                Input split bytes=234
                Combine input records=0
                Combine output records=0
                Reduce input groups=1
                Reduce shuffle bytes=2173056
                Reduce input records=2897917
                Reduce output records=2
                Spilled Records=5795834
                Shuffled Maps =32
                Failed Shuffles=0
                Merged Map outputs=32
                GC time elapsed (ms)=341
                CPU time spent (ms)=35730
                Physical memory (bytes) snapshot=7935692800
                Virtual memory (bytes) snapshot=984106909696
                Total committed heap usage (bytes)=19357761536
        Shuffle Errors
                BAD_ID=0
                CONNECTION=0
                IO_ERROR=0
                WRONG_LENGTH=0
                WRONG_MAP=0
                WRONG_REDUCE=0
        File Input Format Counters 
                Bytes Read=102749700
        File Output Format Counters 
                Bytes Written=18
```

```bash
Max     9.0
Min     -11.0
```

## Ejercicio 4


## Ejercicio 5
## Ejercicio 6
## Ejercicio 7
## Ejercicio 8
